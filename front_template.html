{{#Context}}
	<span id="context">{{Context}}</span>
	<br><br>
	<div id="hint" class="hidden">
		<p class="trigger">Check native language</p>
		<p class="payload" id="hintpayload"></p>
	</div>
	<script type="text/javascript">
		function highlightText(text, highlighter) {
			const textParts = text.split(highlighter);
			var textToDisplay = " ";
			var highlighted = false;
			for (const part in textParts) {
				if (highlighted) {
					textToDisplay +=  '<span style="background-color:#dff5c4;">' +  textParts[part] + '</span> ';
				} else {
				textToDisplay += textParts[part];
				}
				highlighted = !highlighted;
				}
			return textToDisplay;
		}
		function occludeText(text, highlighter) {
			const textParts = text.split(highlighter);
			var textToDisplay = " ";
			var highlighted = false;
			for (const part in textParts) {
				if (highlighted) {
					textToDisplay +=  '<span style="background-color:#fae7b5;">&lt;...&gt;</span>';
				} else {
				textToDisplay += textParts[part];
				}
				highlighted = !highlighted;
				}
			return textToDisplay;
		}
		var langData = document.getElementById("context").innerHTML.split("<br>----<br>");
		var phrases = langData[1].split(",,");
		var nativePhrases = langData[2].split(",,");
		window.randomIndex = Math.floor(Math.random() * phrases.length);
		window.randomPhrase = phrases[window.randomIndex];
		document.getElementById("context").innerHTML = occludeText(window.randomPhrase, "**");
		var natRandomPhrase = nativePhrases[window.randomIndex];
		hint.addEventListener('click', function() { this.setAttribute('class', 'shown'); this.innerHTML = highlightText(natRandomPhrase, '**');});
	</script>
{{/Context}}